<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>capstone – Yiwei Lu</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/logo1.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-c1fac2584b48ed01fb6e278e36375074.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
<style>
  /* hide built-in navbar search trigger, keep API available */
  #quarto-search {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
    position: absolute !important;
    left: -9999px !important;
  }
</style>

<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-6YZF1Z6XV4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-6YZF1Z6XV4');
</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/logo1.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Yiwei Lu</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../"> 
<span class="menu-text"><span class="nav-text">Home</span></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../news.html"> 
<span class="menu-text"><span class="nav-text">News</span></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-span-classnav-textprojectsspan" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text"><span class="nav-text">Projects</span></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-span-classnav-textprojectsspan">    
        <li>
    <a class="dropdown-item" href="../projects/project.html">
 <span class="dropdown-text"><span class="nav-text">Projects</span></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../projects/Capstone.html">
 <span class="dropdown-text"><span class="nav-text">Capstone Project</span></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-span-classnav-textstartupspan" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text"><span class="nav-text">Startup</span></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-span-classnav-textstartupspan">    
        <li class="dropdown-header"><span style="font-size: 0.7rem; font-weight: 300; color: gray;">STEALTH STAGE</span></li>
        <li>
    <a class="dropdown-item" href="https://contact.yiweilu.me/" target="_self">
 <span class="dropdown-text"><strong>YPS Tech</strong></span></a>
  </li>  
        <li class="dropdown-header"><span style="font-size: 0.7rem; font-weight: 300; color: gray;">Concept Stage (Paused)</span></li>
        <li>
    <a class="dropdown-item" href="https://platemateofficial.netlify.app/" target="_blank">
 <span class="dropdown-text"><strong>Platemate</strong></span></a>
  </li>  
        <li class="dropdown-header"></li>
        <li class="dropdown-header"><span style="font-size: 0.7rem; font-weight: 300; color: gray;">ABOUT</span></li>
        <li>
    <a class="dropdown-item" href="../startup/journey.html" target="_self">
 <span class="dropdown-text"><strong>Startup Journey</strong></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text"><span class="nav-text">About</span></span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="../#" target="_self"> <i class="bi bi-bell" role="img" aria-label="Updates">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://wa.me/6266736276" target="_blank"> <i class="bi bi-whatsapp" role="img" aria-label="WhatsApp">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/yiwei-lu78"> <i class="bi bi-linkedin" role="img" aria-label="LinkedIn">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-span-classnav-text-resume-tabi-classbi-bi-downloadi-resumespan" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text"><span class="nav-text resume-tab"><i class="bi bi-download"></i> Resume</span></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-span-classnav-text-resume-tabi-classbi-bi-downloadi-resumespan">    
        <li>
    <a class="dropdown-item" href="../resume.html" target="_self">
 <span class="dropdown-text"><span class="nav-text"><i class="bi bi-eye"></i> View Resume</span></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Resume_YL_2025_D1.pdf" target="_blank">
 <span class="dropdown-text"><span class="nav-text"><i class="bi bi-file-earmark-arrow-down"></i> Download PDF</span></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../ww.html" target="_blank"> <i class="bi bi-none" role="img" aria-label="W">
</i> 
<span class="menu-text"><img class="w-logo" src="../images/W.PNG" alt="W Logo"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
        
    </div>
<!-- main -->
<main class="content column-page" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<style>
.page-intro {
  max-width: 800px;
  margin: 4em auto 2em;
  font-size: 1.1rem;
  line-height: 1.8;
  color: #333;
  font-family: 'Segoe UI', system-ui, sans-serif;
  padding: 0 1em;
}
.section-title {
  text-align: center;
  font-size: 1.8rem;
  font-weight: 700;
  margin-top: 3em;
  margin-bottom: 1em;
  color: #2c3e50;
}

/* ===== Horizontal Photo Scroller ===== */
.photo-wrap {
  max-width: 1000px;
  margin: 1.2em auto 2.2em;
  padding: 0 1em;
  position: relative;
  overflow: visible;
}

.photo-track {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  padding-bottom: 10px;
  -webkit-overflow-scrolling: touch;
}
.photo-track::-webkit-scrollbar { height: 8px; }
.photo-track::-webkit-scrollbar-thumb { background: #c9d6f3; border-radius: 8px; }
.photo-track::-webkit-scrollbar-track { background: #f1f4fb; border-radius: 8px; }

.photo-item {
  flex: 0 0 auto;
  width: 320px;             
  height: 200px;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,.08);
  scroll-snap-align: start;
  background: #f8f9fb;
  position: relative;
  cursor: zoom-in;          
}
.photo-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transition: transform .25s ease, box-shadow .25s ease;
}
.photo-item:hover img { transform: scale(1.03); }

.photo-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 38px;
  height: 38px;
  border: none;
  border-radius: 50%;
  background: #0d6efd;
  color: #fff;
  box-shadow: 0 8px 24px rgba(13,110,253,.35);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: filter .18s ease, transform .18s ease;
  z-index: 2;
}
.photo-nav:hover { filter: brightness(1.05); transform: translateY(-50%) scale(1.03); }
.photo-nav:active { transform: translateY(-50%) scale(.98); }
.photo-nav.prev { left: 6px; }
.photo-nav.next { right: 6px; }

/* Lightbox zoom */
.lightbox {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.86);
  display: none;
  align-items: center; justify-content: center;
  z-index: 1300;
}
.lightbox.show { display: flex; }
.lightbox img {
  max-width: 92vw; max-height: 90vh;
  border-radius: 12px;
  box-shadow: 0 12px 36px rgba(0,0,0,.5);
}
.lightbox .lb-close {
  position: fixed; top: 14px; right: 14px;
  width: 40px; height: 40px; border: 0; border-radius: 50%;
  background: rgba(255,255,255,.92);
  color: #111; font-size: 1.2rem; cursor: pointer;
}

@media (max-width: 520px){
  .photo-item { width: 220px; height: 150px; }
  .photo-nav { width: 34px; height: 34px; }
}

</style>
<p style="text-align:center;color:#c0392b;font-weight:600;font-size:1rem;margin-top:-.2em;margin-bottom:0.8em;">
(This page is still under development)
</p>
<p style="text-align:center;">
<a href="../" style="color:#0d6efd;text-decoration:none;font-weight:600;"> Back to Home </a>
</p>
<h2 class="section-title" style="border-bottom:1px solid #e5e7eb;
  padding-bottom:.6em;margin-bottom:1.2em;
  display:flex;justify-content:center;align-items:center;">
<img src="../images/JNJ.png?v=1" alt="Johnson &amp; Johnson Cerenovus Project" style="max-height:60px;width:auto;display:block;">
</h2>
<!-- ===== Executive Summary Section ===== -->
<section id="jj-summary" style="max-width:1000px;margin:2em auto;padding:0 1em;">
<h2 class="section-title" style="margin-top:0;">
Executive Summary
</h2>
<p style="color:#2c3e50;line-height:1.85;font-size:1.05rem;">
Partnered with Johnson &amp; Johnson’s Cerenovus division to address customer retention challenges in the neurovascular device market. At the outset, we matched J&amp;J’s transactional sales data with third-party medical databases to enrich customer profiles and validate insights, while also developing exploratory dashboards in Power BI and Tableau to surface initial trends. As the project evolved, the team transitioned to a full-stack approach: SQL for scalable data integration, Python for feature engineering and predictive modeling, and React with Tailwind for an interactive dashboard. This end-to-end solution brought together customer segmentation, churn prediction, and product migration analysis in a single platform, enabling business teams to move seamlessly from data exploration to strategic decision-making.
</p>
</section>
<h3 class="section-title" style="font-size:1.4rem;margin-top:1.5em;">
Key Outcomes
</h3>
<ul role="list" style="
  list-style:none;padding:0;margin:.4em auto 1.2em;max-width:1000px;display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;">
<li style="border:1px solid #e7ecf3;border-radius:12px;padding:1em;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.03);">
<div style="color:#6c7a89;font-size:.92rem;">
Strong Predictive Model
</div>
<div style="color:#0d6efd;font-size:1.5rem;font-weight:800;">
NULL
</div>
</li>
<li style="border:1px solid #e7ecf3;border-radius:12px;padding:1em;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.03);">
<div style="color:#6c7a89;font-size:.92rem;">
Focused Risk Targeting
</div>
<div style="color:#0d6efd;font-size:1.5rem;font-weight:800;">
NULL
</div>
</li>
<li style="border:1px solid #e7ecf3;border-radius:12px;padding:1em;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.03);">
<div style="color:#6c7a89;font-size:.92rem;">
Business Value Creation
</div>
<div style="color:#0d6efd;font-size:1.5rem;font-weight:800;">
NULL
</div>
</li>
<li style="border:1px solid #e7ecf3;border-radius:12px;padding:1em;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.03);">
<div style="color:#6c7a89;font-size:.92rem;">
Retention Strategy Impact
</div>
<div style="color:#0d6efd;font-size:1.5rem;font-weight:800;">
NULL
</div>
</li>
</ul>
<div style="max-width:1000px; margin:0 auto; padding:0 1em;">
<details open="" style="margin:.6em 0;">
<summary>
<strong>Objectives</strong>
</summary>
<ul style="line-height:1.8;">
<li>
<strong>Predict Customer Churn:</strong> Develop models to identify which hospital or account is most at risk of leaving, enabling Johnson &amp; Johnson to prioritize retention actions before revenue is lost.
</li>
<li>
<strong>Segment Customer Base:</strong> Use clustering to group accounts into meaningful profiles (e.g., High Revenue Contributors, Premium Spenders, Low Engagement) for tailored retention strategies.
</li>
<li>
<strong>Analyze Product Migration:</strong> Track shifts from older coils/stents to aspiration systems, revealing physician preferences and informing product portfolio planning.
</li>
<li>
<strong>Quantify Financial Impact:</strong> Translate predictive accuracy and segmentation insights into projected ROI, linking data science outputs to measurable business value.
</li>
<li>
<strong>Deliver Decision-Support Tools:</strong> Build interactive dashboards that connect churn predictions, segment profiles, and ROI scenarios, giving managers a clear path from insight to action.
</li>
</ul>
</details>
<details style="margin:.6em 0;">
<summary>
<strong>Data &amp; Features</strong>
</summary>
<ul style="line-height:1.8;">
<li>
<strong>Transactional Data Sources:</strong> Multi-year sales transaction tables containing <code>FISCAL_YEAR</code>, <code>FISCAL_MONTH</code>, revenue (<code>SALES</code>), product SKU and category, sales channel (distributors, direct), and geographic region. These served as the foundation for all modeling and segmentation.
</li>
<li>
<strong>Feature Engineering:</strong> Derived business-relevant metrics including:
<ul>
<li>
<em>RFM metrics</em> (Recency, Frequency, Monetary) to capture customer behavior patterns.
</li>
<li>
<em>Seasonality features</em> (quarterly and monthly dummy variables) to account for cyclical purchasing behavior.
</li>
<li>
<em>Product mix ratios</em> to measure migration trends (e.g., coils → stents → aspiration systems).
</li>
<li>
<em>Pricing tiers</em> and discount bands to capture value sensitivity across accounts.
</li>
<li>
<em>Recency windows</em> (e.g., 3-, 6-, 12-month lookbacks) to measure recent activity and inactivity.
</li>
</ul>
</li>
<li>
<strong>Data Quality &amp; Standardization:</strong> Applied systematic cleaning steps:
<ul>
<li>
Standardized product and channel naming across multiple source systems.
</li>
<li>
Handled missing values through imputation and logical rules (e.g., defaulting null channel codes).
</li>
<li>
Detected and capped outliers (e.g., unusually large one-off purchases) to prevent model distortion.
</li>
<li>
Cross-source alignment between transactional, regional, and product hierarchy tables to ensure consistency.
</li>
</ul>
</li>
<li>
<strong>Final Feature Set:</strong> Combined raw transactional metrics and engineered variables into a structured dataset ready for churn modeling, clustering, and dashboard integration.
</li>
</ul>
</details>
<details style="margin:.6em 0;">
<summary>
<strong>Methods</strong>
</summary>
<ul style="line-height:1.8;">
<li>
<strong>Data Preparation:</strong> Standardized multi-year transactional data (FISCAL_YEAR, FISCAL_MONTH, SALES, SKU, region, channel). Engineered <em>RFM features</em> (Recency, Frequency, Monetary value), product mix ratios, migration indicators, and seasonality flags.
</li>
<li>
<strong>Predictive Modeling:</strong>
<ul>
<li>
<em>Logistic Regression</em> as baseline for interpretability and quick benchmarking.
</li>
<li>
<em>XGBoost</em> for high-performance classification, capturing nonlinear interactions and handling imbalanced churn outcomes.
</li>
<li>
<em>Random Survival Forest</em> (RSF) to estimate time-to-churn, providing survival probabilities over time.
</li>
</ul>
</li>
<li>
<strong>Model Evaluation:</strong> Used <em>ROC-AUC</em> and <em>Precision-Recall AUC</em> to measure classification power, <em>C-Index</em> for survival analysis accuracy, and <em>cost-benefit curves</em> to test ROI under different marketing budget constraints.
</li>
<li>
<strong>Customer Segmentation:</strong> Applied <em>K-Means clustering</em> on engineered features. Identified distinct groups:
<ul>
<li>
<strong>Premium Spenders</strong> – high ticket size, ideal for exclusive offers.
</li>
<li>
<strong>Power Buyers</strong> – frequent purchases, responsive to loyalty programs.
</li>
<li>
<strong>Low Engagement</strong> – low spend and low frequency, requiring reactivation campaigns.
</li>
</ul>
</li>
<li>
<strong>Visualization &amp; Decision Support:</strong> Developed interactive dashboards (React + Tailwind + PostgreSQL) to connect predictions with segmentation and campaign planning for Johnson &amp; Johnson managers.
</li>
</ul>
</details>
<details style="margin:.6em 0;">
<summary>
<strong>Business Impact</strong>
</summary>
<ul style="line-height:1.8;">
<li>
<strong>Customer Retention:</strong> Early identification of high-risk accounts enabled targeted outreach strategies. Our models captured over <strong>60% of churners</strong> in the top-risk deciles, ensuring sales teams can focus efforts on the most vulnerable accounts.
</li>
<li>
<strong>Revenue Protection:</strong> Conservative ROI scenarios projected an annual impact of <strong>+$1.2M</strong> through optimized retention campaigns, proving that predictive analytics can directly translate into measurable financial value.
</li>
<li>
<strong>Product Migration Insights:</strong> Analysis revealed a <strong>45% migration</strong> from legacy coils/stents to newer aspiration systems (C71 series). This highlighted evolving physician preferences and informed product portfolio strategy.
</li>
<li>
<strong>Strategic Segmentation:</strong> Customer clustering uncovered distinct profiles—High Revenue Contributors, Low Engagement, and Premium Spenders— giving marketing teams actionable levers for <em>personalized messaging</em> and differentiated retention offers.
</li>
<li>
<strong>Decision-Support Tools:</strong> Delivered an interactive React + Tailwind + PostgreSQL dashboard that closes the loop (<em>prediction → segmentation → campaign design → monitoring</em>), enabling managers to make real-time, data-driven decisions.
</li>
<li>
<strong>Long-term Impact:</strong> Established a repeatable data pipeline and modeling workflow that can be extended beyond Cerenovus to other Johnson &amp; Johnson divisions, strengthening enterprise-wide analytics capability.
</li>
</ul>
</details>
</div>
<!-- ===== Demo Video Section ===== -->
<section id="jj-demo-video" style="max-width:1000px;margin:2.5em auto;padding:0 1em;text-align:center;">
<h2 class="section-title">
Demo Video
</h2>
<p style="max-width:800px;margin:0.6em auto 1.5em;line-height:1.8;color:#333;">
Watch a short demo showcasing the interactive dashboard.
</p>
<iframe width="100%" height="480" src="https://www.youtube.com/watch?v=Lrvo561-AQc" title="J&amp;J Capstone Demo Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">
</iframe>
</section>
<h3 class="section-title" style="border-bottom:1px solid #e5e7eb;padding-bottom:.4em;margin-bottom:1.2em;">
Interactive Dashboard
</h3>
<p style="text-align:center;max-width:800px;margin:0 auto 1em;line-height:1.8;">
Built an end-to-end dashboard to visualize churn predictions, customer segments, and retention ROI scenarios.
</p>
<!-- button -->
<div style="text-align:center; margin:0.8em 0; position:relative; z-index:9999;">
<p><button type="button" onclick="(function(u){try{var w=window.open(u,'_blank','noopener'); if(!w) location.href=u;}catch(e){location.href=u;}})('https://contact.yiweilu.me/');" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 10px 22px rgba(13,110,253,.45)';" onmouseout="this.style.transform='none'; this.style.boxShadow='0 6px 16px rgba(13,110,253,.35)';" style="appearance:none; border:0; cursor:pointer; pointer-events:auto;
           padding:.85em 1.6em; border-radius:8px;
           background:linear-gradient(135deg,#0d6efd,#3ea1ff,#17c0ff);
           color:#fff; font-weight:700; font-size:1rem; letter-spacing:.2px;
           box-shadow:0 6px 16px rgba(13,110,253,.35);
           transition:transform .15s ease, box-shadow .15s ease;"> Open Dashboard </button></p>
</div>
<h3 class="section-title" style="border-bottom:1px solid #e5e7eb;
  padding-bottom:.4em;margin-bottom:1.2em;">
Documentation
</h3>
<p style="text-align:center;max-width:800px;margin:0 auto 1.2em;line-height:1.6;">
Select a deliverable and click “Open”:
</p>
<div style="display:flex; justify-content:center; gap:1em; flex-wrap:wrap;">
<p><select id="docSelect" style="padding:.6em 1em; border:1px solid #ccc;
          border-radius:8px; font-size:1rem; min-width:200px;"> <option value="">– Choose a file –</option> <option value="https://contact.yiweilu.me/visualization-ppt">Visualization PPT</option> <option value="https://contact.yiweilu.me/final-ppt">Final PPT</option> <option value="https://contact.yiweilu.me/final-report">Final Report</option> </select></p>
<p><button type="button" onclick="(function(){ 
        var sel = document.getElementById('docSelect');
        if(sel.value){ window.open(sel.value,'_blank'); } 
        else { alert('Please select a document first!'); } 
    })();" style="appearance:none; border:0; cursor:pointer;
           padding:.85em 1.6em; border-radius:8px; 
           background:linear-gradient(135deg,#0d6efd,#3ea1ff,#17c0ff);
           color:#fff; font-weight:600; font-size:.95rem;
           box-shadow:0 6px 16px rgba(13,110,253,.35);
           transition:transform .15s ease, box-shadow .15s ease;"> Open </button></p>
</div>
</main></div>
<h3 class="section-title" style="border-bottom:1px solid #e5e7eb;padding-bottom:.4em;margin-bottom:1.2em;">
Tech Stack
</h3>
<p style="text-align:center;max-width:800px;margin:0 auto;line-height:1.8;">
<span style="background:#eef4ff;color:#2457d6;padding:.3em .8em;border-radius:999px;margin:.2em;display:inline-block;">Python</span> <span style="background:#eef4ff;color:#2457d6;padding:.3em .8em;border-radius:999px;margin:.2em;display:inline-block;">XGBoost</span> <span style="background:#eef4ff;color:#2457d6;padding:.3em .8em;border-radius:999px;margin:.2em;display:inline-block;">Random Survival Forest</span> <span style="background:#eef4ff;color:#2457d6;padding:.3em .8em;border-radius:999px;margin:.2em;display:inline-block;">Scikit-learn</span> <span style="background:#eef4ff;color:#2457d6;padding:.3em .8em;border-radius:999px;margin:.2em;display:inline-block;">PostgreSQL</span> <span style="background:#eef4ff;color:#2457d6;padding:.3em .8em;border-radius:999px;margin:.2em;display:inline-block;">React</span> <span style="background:#eef4ff;color:#2457d6;padding:.3em .8em;border-radius:999px;margin:.2em;display:inline-block;">Tailwind CSS</span> <span style="background:#eef4ff;color:#2457d6;padding:.3em .8em;border-radius:999px;margin:.2em;display:inline-block;">Flask API</span> <span style="background:#eef4ff;color:#2457d6;padding:.3em .8em;border-radius:999px;margin:.2em;display:inline-block;">Power BI</span> <span style="background:#eef4ff;color:#2457d6;padding:.3em .8em;border-radius:999px;margin:.2em;display:inline-block;">Tableau</span>
</p>
<h3 class="section-title" style="border-bottom:1px solid #e5e7eb;padding-bottom:.4em;margin-bottom:1.2em;">
Photo Gallery
</h3>
<div class="photo-wrap">
<button class="photo-nav prev" type="button" aria-label="Previous" title="Previous">‹</button>
<div id="photo-track" class="photo-track">
<figure class="photo-item figure">
<img src="../images/capstone1.jpeg" alt="Capstone Team Working Session" class="figure-img">
</figure>
<figure class="photo-item figure">
<img src="../images/JJ-cover.png" alt="Data Dashboard Demo" class="figure-img">
</figure>
<figure class="photo-item figure">
<img src="../images/capstone3.jpeg" alt="Presentation Day" class="figure-img">
</figure>
<figure class="photo-item figure">
<img src="../images/capstone4.jpeg" alt="More Work" class="figure-img">
</figure>
</div>
<p><button class="photo-nav next" type="button" aria-label="Next" title="Next">›</button></p>
</div>
<script>
(function(){
  const track = document.getElementById('photo-track');
  if (!track) return;

  function getStep() {
    const first = track.querySelector('.photo-item');
    if (!first) return 240;
    const style = getComputedStyle(track);
    const gap = parseFloat(style.columnGap || style.gap || 12);
    return first.getBoundingClientRect().width + gap;
  }

  const prev = document.querySelector('.photo-nav.prev');
  const next = document.querySelector('.photo-nav.next');
  prev && prev.addEventListener('click', ()=> track.scrollBy({ left: -getStep(), behavior: 'smooth' }));
  next && next.addEventListener('click', ()=> track.scrollBy({ left:  getStep(), behavior: 'smooth' }));

  // 键盘左右键也可滚动
  track.addEventListener('keydown', (e)=>{
    if (e.key === 'ArrowLeft')  { e.preventDefault(); track.scrollBy({left: -getStep(), behavior:'smooth'}); }
    if (e.key === 'ArrowRight') { e.preventDefault(); track.scrollBy({left:  getStep(), behavior:'smooth'}); }
  });
  track.tabIndex = 0; 

  // Lightbox 预览
  const lb = document.createElement('div');
  lb.className = 'lightbox';
  lb.innerHTML = '<button class="lb-close" aria-label="Close">×</button><img alt="Preview">';
  document.body.appendChild(lb);
  const lbImg = lb.querySelector('img');
  const lbClose = lb.querySelector('.lb-close');

  track.addEventListener('click', (e)=>{
    const img = e.target.closest('.photo-item img');
    if (!img) return;
    lbImg.src = img.currentSrc || img.src;
    lb.classList.add('show');
  });
  const closeLB = ()=> lb.classList.remove('show');
  lb.addEventListener('click', (e)=> { if (e.target === lb) closeLB(); });
  lbClose.addEventListener('click', closeLB);
  document.addEventListener('keydown', (e)=> { if (e.key === 'Escape') closeLB(); });
})();
</script>
<hr>
<div class="connect-container" style="display:flex; flex-wrap:wrap; gap:1em; align-items:center;">
<!-- ① 按钮特效：CSS（不动其它样式） -->
<style>
  .cta-contact{
    display:inline-flex; align-items:center; gap:.6em;
    padding:.7em 1.25em; border-radius:999px;
    background:linear-gradient(135deg,#0d6efd 0%,#3ea1ff 50%,#17c0ff 100%);
    color:#fff; font-weight:800; letter-spacing:.2px; text-decoration:none;
    box-shadow:0 12px 26px rgba(13,110,253,.35), inset 0 -2px 0 rgba(0,0,0,.15);
    position:relative; overflow:hidden;
    transition:transform .16s ease, box-shadow .16s ease, filter .16s ease;
  }
  .cta-contact:hover{
    transform:translateY(-3px);
    box-shadow:0 18px 36px rgba(13,110,253,.45), 0 0 0 4px rgba(13,110,253,.12);
  }
  .cta-contact:active{ transform:translateY(0) scale(.98); }
  .cta-contact:focus-visible{
    outline:none;
    box-shadow:0 0 0 4px rgba(13,110,253,.35), 0 12px 26px rgba(13,110,253,.35);
  }
  .cta-contact i{ font-size:1.05rem; line-height:1; transition:transform .16s ease; }
  .cta-contact:hover i{ transform:translateX(2px); }

  /* 光带掠过 */
  .cta-contact .sheen{
    position:absolute; inset:0 auto 0 -150%;
    width:50%; transform:skewX(-20deg);
    background:linear-gradient(90deg,transparent 0,rgba(255,255,255,.25) 50%,transparent 100%);
    pointer-events:none;
  }
  .cta-contact:hover .sheen{ animation:sheen .9s ease; }
  @keyframes sheen{ to{ left:150%; } }

  /* 点击涟漪 */
  .cta-contact .ripple{
    position:absolute; border-radius:999px; pointer-events:none;
    transform:translate(-50%,-50%); width:0; height:0; opacity:.5;
    background:rgba(255,255,255,.35); animation:ripple .45s ease-out forwards;
  }
  @keyframes ripple{ to{ width:240px; height:240px; opacity:0; } }

  /* 容器仅用于居中，不遮挡版权文字 */
  .cta-wrap{ display:flex; justify-content:center; margin:1.2em 0 1em; width:100%; }
</style>
<!-- ② 居中弹窗 + 防止原页跳走：JS -->
<script>
  function openContactWin(e, a){
    e.preventDefault(); // 先拦截默认跳转（解决“弹窗+原页跳走”）

    // 小屏直接当前页打开
    if (window.matchMedia && window.matchMedia('(max-width:640px)').matches){
      window.location.href = a.href;
      return false;
    }

    // 用 outerWidth/outerHeight + screenX/screenY 居中，兼容多显示器与缩放
    const w = 780, h = 760;
    const sx = (window.screenX ?? window.screenLeft ?? 0);
    const sy = (window.screenY ?? window.screenTop ?? 0);
    const ow = (window.outerWidth  ?? window.innerWidth);
    const oh = (window.outerHeight ?? window.innerHeight);
    const left = Math.max(0, Math.round(sx + (ow - w)/2));
    const top  = Math.max(0, Math.round(sy + (oh - h)/2));
    const opts = `popup=1,width=${w},height=${h},left=${left},top=${top},resizable=yes,scrollbars=yes`;

    const win = window.open(a.href, 'contactWin', opts);
    if (win){
      try { win.focus(); } catch {}

      // 点击位置涟漪效果
      const rect = a.getBoundingClientRect();
      const r = document.createElement('span');
      r.className = 'ripple';
      r.style.left = (e.clientX - rect.left) + 'px';
      r.style.top  = (e.clientY - rect.top ) + 'px';
      a.appendChild(r);
      setTimeout(()=>r.remove(), 500);
    } else {
      // 被拦截则回退为同页跳转
      window.location.href = a.href;
    }
    return false;
  }
</script>
<!-- ③ 居中按钮（只改这里） -->
<div class="cta-wrap">
<p><a href="../contact.html" class="cta-contact" aria-label="Open contact form" onclick="return openContactWin(event, this);"> <i class="bi bi-chat-dots"></i> <span>Let’s get in touch!</span> <span class="sheen" aria-hidden="true"></span> </a></p>
</div>
</div>
<div aria-hidden="true" style="border-top: 1px solid #ccc; margin: 1.5em 0;">

</div>
<p style="text-align: center; color: #888; font-size: 0.85em; margin-top: 3em;">
© 2025 Yiwei Lu. All rights reserved.
</p>



 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/www\.yiweilu\.me");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
 <!-- /content -->
<!-- ========== GLOBAL: Floating Search & Back-to-Top ========== -->
<button id="floating-search" aria-label="Search" title="Search (⌘/Ctrl + K)">
  <span id="fs-handle" aria-label="Drag" title="Drag" role="button"></span>
  <i class="bi bi-search"></i> Search
</button>

<button id="back-to-top" aria-label="Back to Top" title="Back to Top">
  <i class="bi bi-arrow-up"></i>
</button>

<!-- ========== GLOBAL: Release Modal (bell) ========== -->
<script type="text/x-template" id="release-template">
  <p>Site Updates — 09.11.2025</p>
  <ul>
    <li>www.yiweilu.me alive</li>
    <li>Contact Form (Beta) launched (0829)</li>
    <li>Updated Announcement Bar. (0828)</li>
    <li>Added floating Search & Back-to-Top button. (0827)</li>
    <li>Improved mobile navigation polish.</li>
    <li>Profile section redesign with gradient text and glowing avatar.</li>
  </ul>
  <p>Keyboard: <kbd>⌘/Ctrl</kbd> + <kbd>K</kbd> to search.</p>
</script>

<div id="release-overlay" style="display:none;"></div>
<div id="release-modal" role="dialog" aria-modal="true" aria-labelledby="release-title" style="display:none;">
  <button class="release-close" aria-label="Close">×</button>
  <h3 id="release-title">What’s new</h3>
  <div class="release-body"></div>
  <div class="release-actions">
    <button class="release-primary" type="button">Got it</button>
  </div>
</div>

<style>
  /* ===== Floating Search ===== */
  #floating-search{
    position: fixed;
    right: 22px;
    bottom: 22px;
    padding: 0.6em 1.2em;
    border: none;
    border-radius: 30px;
    background: #0d6efd;
    color: #fff;
    font-weight: 600;
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    gap: 0.55em;
    cursor: pointer;                 /* 点击为主 */
    box-shadow: 0 10px 24px rgba(13,110,253,.35);
    z-index: 1100;
    transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
    touch-action: manipulation;      /* 移动端优先点击 */
  }
  #floating-search:hover{ transform: translateY(-2px); box-shadow: 0 14px 30px rgba(13,110,253,.45); }
  #floating-search i{ font-size: 1.1rem; }
  @media (max-width: 480px){ #floating-search{ right: 16px; bottom: 16px; } }

  #fs-handle{
    width: 14px;
    height: 18px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-right: 2px;
    cursor: grab;
    touch-action: none;              
    user-select: none;
    -webkit-user-select: none;
    opacity: .85;
  }
  #fs-handle::before{
    content: "";
    display: block;
    width: 10px; height: 14px;
    background-image:
      radial-gradient(currentColor 1px, transparent 1px),
      radial-gradient(currentColor 1px, transparent 1px),
      radial-gradient(currentColor 1px, transparent 1px);
    background-size: 4px 4px;
    background-position: 0 0, 3px 1.8px, 6px 0;
    opacity: .9;
  }
  #fs-handle:active{ cursor: grabbing; }

  /* ===== Back-to-top ===== */
  #back-to-top {
    position: fixed;
    right: 22px;
    bottom: 90px;
    width: 54px;
    height: 54px;
    border: none;
    border-radius: 50%;
    background: #0d6efd;
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 10px 24px rgba(13,110,253,.35);
    cursor: pointer;
    z-index: 1100;
    transition: transform .18s ease, box-shadow .18s ease, background .18s ease, opacity .18s ease, visibility .18s ease;
    opacity: 0; visibility: hidden;
  }
  #back-to-top:hover{ transform: translateY(-2px); box-shadow: 0 14px 30px rgba(13,110,253,.45); }
  #back-to-top:active{ transform: translateY(0) scale(.96); }
  #back-to-top i{ font-size: 1.25rem; line-height: 1; }
  @media (max-width: 480px){ #back-to-top{ right: 16px; bottom: 80px; } }

  /* ===== Modal ===== */
  #release-overlay{
    position: fixed; inset: 0; 
    background: rgba(0,0,0,.35);
    z-index: 1200;
  }
  #release-modal{
    position: fixed; 
    left: 50%; top: 50%; transform: translate(-50%, -50%);
    width: min(560px, 92vw);
    background: #fff; color:#222;
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0,0,0,.25);
    padding: 1.2rem 1.2rem 1rem;
    z-index: 1210;
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }
  #release-modal h3{ margin: 0 0 .6rem; font-size: 1.25rem; }
  #release-modal .release-body{ line-height: 1.6; color:#444; font-size: .98rem; }
  #release-modal .release-actions{ display:flex; justify-content:flex-end; gap:.6rem; margin-top: 1rem; }
  #release-modal .release-primary{
    background:#0d6efd; color:#fff; border:none; border-radius:8px;
    padding:.55rem 1rem; font-weight:600; cursor:pointer;
    box-shadow: 0 6px 16px rgba(13,110,253,.35);
  }
  #release-modal .release-primary:hover{ filter: brightness(1.05); }
  #release-modal .release-close{
    position:absolute; right:10px; top:8px;
    width:34px; height:34px; border:none; border-radius:50%;
    background: transparent; font-size: 1.2rem; cursor:pointer;
  }
  #release-modal .release-close:hover{ background:#f3f5f7; }
</style>

<script>
  // ===== Quarto Search Open =====
  function openSearch() {
    if (window.quartoOpenSearch) window.quartoOpenSearch();
  }
  (function () {
    const fsButton = document.getElementById('floating-search');
    if (!fsButton) return;
    fsButton.addEventListener('click', (e) => {
      if (fsButton.dataset.dragging === '1') return; 
      openSearch();
    });

    document.addEventListener('keydown', (e) => {
      const k = e.key.toLowerCase();
      if ((e.metaKey || e.ctrlKey) && k === 'k') {
        openSearch();
        e.preventDefault();
      }
    });

    const handle = document.getElementById('fs-handle');
    try {
      const saved = JSON.parse(localStorage.getItem('fs-pos') || '{}');
      if (saved.left != null && saved.top != null) {
        fsButton.style.left = saved.left + 'px';
        fsButton.style.top  = saved.top  + 'px';
        fsButton.style.right = 'auto';
        fsButton.style.bottom = 'auto';
      }
    } catch (e) {}

    let dragging = false, ox = 0, oy = 0;
    const onDown = (e) => {
      if (!(e.target === handle || (handle && handle.contains(e.target)))) return;
      dragging = true; fsButton.dataset.dragging = '1';
      const rect = fsButton.getBoundingClientRect();
      const pt = (e.touches ? e.touches[0] : e);
      ox = pt.clientX - rect.left; oy = pt.clientY - rect.top;
      e.preventDefault(); e.stopPropagation();
    };
    const onMove = (e) => {
      if (!dragging) return;
      const pt = (e.touches ? e.touches[0] : e);
      const x = pt.clientX - ox, y = pt.clientY - oy;
      fsButton.style.left = Math.max(8, Math.min(window.innerWidth  - fsButton.offsetWidth  - 8, x)) + 'px';
      fsButton.style.top  = Math.max(8, Math.min(window.innerHeight - fsButton.offsetHeight - 8, y)) + 'px';
      fsButton.style.right = 'auto'; fsButton.style.bottom = 'auto';
      e.preventDefault();
    };
    const onUp = () => {
      if (!dragging) return;
      dragging = false;
      try {
        const left = parseInt(fsButton.style.left || 0, 10);
        const top  = parseInt(fsButton.style.top  || 0, 10);
        localStorage.setItem('fs-pos', JSON.stringify({ left, top }));
      } catch (e) {}
      setTimeout(() => { fsButton.dataset.dragging = ''; }, 50);
    };

    if (handle){
      handle.addEventListener('mousedown', onDown);
      handle.addEventListener('touchstart', onDown, { passive: false });
    }
    document.addEventListener('mousemove', onMove);
    document.addEventListener('mouseup', onUp);
    document.addEventListener('touchmove', onMove, { passive: false });
    document.addEventListener('touchend', onUp);
  })();

  // ===== Back to top =====
  (function () {
    const backToTop = document.getElementById("back-to-top");
    if (!backToTop) return;
    window.addEventListener("scroll", () => {
      if (window.scrollY > 200) {
        backToTop.style.opacity = "1";
        backToTop.style.visibility = "visible";
      } else {
        backToTop.style.opacity = "0";
        backToTop.style.visibility = "hidden";
      }
    });
    backToTop.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  })();

  // ===== Bell (Updates) Modal with delegation =====
  (function(){
    const overlay = document.getElementById('release-overlay');
    const modal   = document.getElementById('release-modal');
    if (!overlay || !modal) return;

    const bodyBox = modal.querySelector('.release-body');
    const closeBtn= modal.querySelector('.release-close');
    const okBtn   = modal.querySelector('.release-primary');
    const tpl     = document.getElementById('release-template');

    if (tpl && bodyBox && !bodyBox.dataset.inited) {
      bodyBox.textContent = '';
      bodyBox.innerHTML = tpl.textContent.trim();
      bodyBox.dataset.inited = '1';
    }

    function openModal(e){
      if (e) e.preventDefault();
      overlay.style.display = 'block';
      modal.style.display   = 'block';
      document.body.style.overflow = 'hidden';
      if (closeBtn) closeBtn.focus();
      document.addEventListener('keydown', onEsc);
    }
    function closeModal(){
      overlay.style.display = 'none';
      modal.style.display   = 'none';
      document.body.style.overflow = '';
      document.removeEventListener('keydown', onEsc);
    }
    function onEsc(e){ if (e.key === 'Escape') closeModal(); }

    // 事件委托：命中右上角铃铛（多选择器兜底）
    const BELL_SELECTORS = [
      'a[aria-label="Updates"]',
      '.open-release-log',
      '.js-open-release',
      'a:has(.bi-bell)'
    ];
    document.addEventListener('click', (e) => {
      const a = e.target.closest('a');
      if (!a) return;
      const hit = BELL_SELECTORS.some(sel => {
        try { return a.matches(sel); } catch { return false; }
      }) || (a.querySelector && a.querySelector('.bi-bell'));
      if (hit) openModal(e);
    }, { capture: true });

    overlay.addEventListener('click', closeModal);
    if (closeBtn) closeBtn.addEventListener('click', closeModal);
    if (okBtn)    okBtn.addEventListener('click', closeModal);
  })();
</script>




</body></html>