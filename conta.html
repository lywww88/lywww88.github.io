---
title: ""
page-layout: full
format:
  html:
    title-block: false
    toc: false
    allow-raw-html: true
    include-in-header:
      text: |
        <!-- Bootstrap Icons（如已在 _quarto.yml 全局引入，可删） -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

        <style>
          /* 页面容器 */
          .contact-page{ max-width:980px; margin:0 auto; padding:0 16px; box-sizing:border-box; }

          /* 标题区 */
          .contact-page .contact-hero{
            display:flex; align-items:center; gap:.6rem;
            margin:1.2rem 0 1.2rem; justify-content:center;
          }
          .contact-page .contact-hero .bi{ font-size:1.6rem; line-height:1; }

          /* 表单卡片 */
          .contact-page .contact-card{ max-width:720px; margin:1.5rem auto; padding:2rem 2rem 2.25rem; box-sizing:border-box; }

          /* 表单控件 */
          .contact-page form input, .contact-page form select{ height:44px; }
          .contact-page form input, .contact-page form textarea, .contact-page form select{
            width:100%; padding:.65rem .75rem; border:1px solid #ced4da; border-radius:10px;
            font-size:1rem; line-height:1.2; background:#fff; box-sizing:border-box;
          }
          .contact-page form textarea{ min-height:160px; resize:vertical; }
          .contact-page form label{ font-weight:600; margin:0 0 .4rem; }
          .contact-page .form-group{ display:flex; flex-direction:column; margin-bottom:1rem; }

          /* 两列布局 */
          .contact-page .form-row{ display:grid; grid-template-columns:1fr 1fr; gap:1.1rem; }
          .contact-page .form-row + .form-row{ margin-top:1.1rem; }
          @media (max-width:640px){ .contact-page .form-row{ grid-template-columns:1fr; } }

          /* 辅助与状态 */
          .contact-page .hint{ color:#6c757d; font-size:.9rem; margin-top:.35rem; }
          .contact-page .status{ margin-top:.8rem; font-weight:600; }
          .contact-page .status.ok{ color:#198754; }
          .contact-page .status.err{ color:#dc3545; }
          .contact-page .visually-hidden{ position:absolute; left:-10000px; top:auto; width:1px; height:1px; overflow:hidden; }

          /* 勾选框水平对齐 */
          .contact-page .checkbox-group{ display:flex; align-items:center; gap:.5rem; margin-top:.6rem; font-weight:500; }
          .contact-page .checkbox-group input[type="checkbox"]{ width:18px; height:18px; margin:0; }

          /* 按钮区：三颗按钮同宽同高，桌面不换行 */
          .contact-page .actions{ display:flex; align-items:center; gap:.9rem; justify-content:flex-start; margin-top:1.25rem; flex-wrap:nowrap; }
          .contact-page .actions .btn{
            display:inline-flex; align-items:center; justify-content:center; gap:.45rem;
            height:44px; width:200px; border-radius:12px; padding:0 1rem;
            font-weight:600; line-height:1; text-decoration:none; white-space:nowrap;
          }
          .contact-page .actions .btn-home{ background:#198754; color:#fff; border:none; }
          .contact-page .actions .btn-home:hover{ background:#157347; color:#fff; }
          @media (max-width:640px){ .contact-page .actions{ flex-wrap:wrap; } .contact-page .actions .btn{ width:100%; } }

          /* 深色模式 */
          @media (prefers-color-scheme: dark){
            .contact-page form input, .contact-page form textarea, .contact-page form select{
              background:#0e1320; color:#e6e9ef; border-color:#3a4466;
            }
          }
        </style>
---

<main class="contact-page">
  <div class="contact-hero">
    <i class="bi bi-card-text" aria-hidden="true"></i>
    <h1 style="margin:0;">Contact Form - Yiwei Lu</h1>
  </div>

  <div class="project-card contact-card">
    <p style="margin-top:0; color:#555;">
      Have a question or a project in mind? Send me a message and I'll get back to you soon.
    </p>

    <form id="contact-form" action="https://formspree.io/f/xldwjnqg" method="POST" novalidate>
      <!-- 蜜罐 -->
      <div class="visually-hidden">
        <label>Do not fill this out if you are human:
          <input type="text" name="_gotcha" tabindex="-1" autocomplete="off">
        </label>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="name">Name *</label>
          <input id="name" name="name" type="text" required placeholder="Your name">
        </div>
        <div class="form-group">
          <label for="email">Email *</label>
          <input id="email" name="email" type="email" required placeholder="you@example.com">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="topic">Topic</label>
          <select id="topic" name="topic">
            <option value="General">General</option>
            <option value="Collaboration">Collaboration</option>
            <option value="Project Inquiry">Project Inquiry</option>
            <option value="Speaking/Workshop">Speaking / Workshop</option>
          </select>
        </div>
        <div class="form-group">
          <label for="subject">Subject *</label>
          <input id="subject" name="subject" type="text" required placeholder="Short summary">
        </div>
      </div>

      <div class="form-group">
        <label for="message">Message *</label>
        <textarea id="message" name="message" required placeholder="Tell me a bit more..."></textarea>
        <div class="hint">Reply within 1–2 business days.</div>
      </div>

      <div class="checkbox-group">
        <input id="consent" type="checkbox" name="consent" required>
        <label for="consent">I consent to be contacted about my inquiry.</label>
      </div>

      <input type="hidden" name="source" value="contact.html">

      <div class="actions">
        <button class="btn" type="submit">
          <i class="bi bi-send" aria-hidden="true"></i> Send Message
        </button>
        <a class="btn" href="mailto:yiweilu36@uci.edu?subject=Website%20Contact">
          <i class="bi bi-envelope"></i> Use Email Instead
        </a>
        <a class="btn btn-home" href="index.html">Home Page</a>
      </div>

      <div id="status" class="status" role="status" aria-live="polite"></div>
    </form>
  </div>
</main>

<script>
(function(){
  const form = document.getElementById('contact-form');
  const statusEl = document.getElementById('status');
  const submitBtn = form.querySelector('button[type="submit"]');
  const endpoint = form.getAttribute('action');

  function show(msg, ok=true){
    statusEl.textContent = msg;
    statusEl.className = 'status ' + (ok ? 'ok' : 'err');
  }

  form.addEventListener('submit', async function(e){
    e.preventDefault();
    if (!form.checkValidity()){
      form.reportValidity();
      return;
    }
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<i class="bi bi-hourglass-split" aria-hidden="true"></i> Sending...';
    show('');

    try {
      const data = new FormData(form);
      const res = await fetch(endpoint, {
        method: 'POST',
        body: data,
        headers: { 'Accept': 'application/json' }
      });

      if (res.ok) {
        form.reset();
        show('Thanks! Your message has been sent. ✅', true);
      } else {
        const err = await res.json().catch(()=>({}));
        show(err?.error || 'Something went wrong. Please try again.', false);
      }
    } catch (err) {
      show('Network error. Please try again or use email instead.', false);
    } finally {
      submitBtn.disabled = false;
      submitBtn.innerHTML = '<i class="bi bi-send" aria-hidden="true"></i> Send Message';
    }
  });
})();
</script>
