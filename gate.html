<meta name="robots" content="noindex, nofollow">
<style>html{visibility:hidden}</style>

<script>
(function () {
  // ===== é…ç½® =====
  var PASSWORD    = "mimacuowu";   // æ­£ç¡®å¯†ç 
  var TRIES       = 3;             // å°è¯•æ¬¡æ•°
  var LOCK_MIN    = 0;             // é”å®šåˆ†é’Ÿ
  var STORE_KEY   = "page_gate_v1";// localStorage key
  var REDIRECT_TO = "/";           // è·³è½¬åœ°å€

  function denyAndRedirect(msg){
    // å…ˆæ˜¾ç¤º htmlï¼Œç¡®ä¿æç¤ºèƒ½å‡ºç°
    document.documentElement.style.visibility = "visible";
    var html = `
      <h2 style="text-align:center;margin-top:20%;color:#c00;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;">
        â›” Access Denied â›”<br>${msg}<br><br>
        Redirecting to homepage in 3 secondsâ€¦
      </h2>`;
    document.open(); document.write(html); document.close();
    setTimeout(function(){ location.href = REDIRECT_TO; }, 3000);
  }

  var now = Date.now();
  var failData = { count: 0, lockedUntil: 0 };
  try { failData = JSON.parse(localStorage.getItem(STORE_KEY)) || failData; } catch(e){}

  // å¦‚æœè¿˜åœ¨é”å®šæœŸ â†’ ç›´æ¥æ‹’ç»
  if (now < failData.lockedUntil) {
    denyAndRedirect("This page is temporarily locked. Please try again later.");
    return;
  }

  // é‡ç½®å¤±è´¥è®¡æ•°
  failData.count = 0;
  localStorage.setItem(STORE_KEY, JSON.stringify(failData));

  // å¯†ç å°è¯•
  var ok = false;
  for (var i = 0; i < TRIES; i++) {
    var left = (TRIES - i);
    var input = prompt("ğŸ”’ This page is restricted. (" + left + " attempt" + (left>1?"s":"") + " left)");
    if (input === null) break; // ç”¨æˆ·ç‚¹å–æ¶ˆ
    if (input === PASSWORD) { ok = true; break; }
  }

  if (!ok) {
    failData.lockedUntil = now + LOCK_MIN * 60 * 1000;
    localStorage.setItem(STORE_KEY, JSON.stringify(failData));
    denyAndRedirect("Access denied.");
    return;
  }

  // âœ… æˆåŠŸ â†’ é¡µé¢å†…å®¹æ˜¾ç¤º
  document.documentElement.style.visibility = "visible";
})();
</script>
