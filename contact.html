---
title: "Contact"
format:
  html:
    toc: false
    page-layout: article
    allow-html: true
---

<div class="contact-page">

  <!-- 标题区 -->
  <div class="contact-hero">
    <i class="bi bi-card-text" aria-hidden="true"></i>
    <h1 style="margin:0;">Contact</h1>
  </div>

  <!-- 卡片容器 -->
  <div class="project-card contact-card">
    <p style="margin-top:0; color:#555;">
      Have a question or a project in mind? Send me a message and I'll get back to you soon.
    </p>

    <!-- ✅ 使用 Formspree 端点 -->
    <form id="contact-form" action="https://formspree.io/f/xldwjnqg" method="POST" novalidate>
      <!-- 防垃圾字段（蜜罐） -->
      <div class="visually-hidden">
        <label>Do not fill this out if you are human:
          <input type="text" name="_gotcha" tabindex="-1" autocomplete="off">
        </label>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="name">Name <span aria-hidden="true">*</span></label>
          <input id="name" name="name" type="text" required placeholder="Your name">
        </div>
        <div class="form-group">
          <label for="email">Email <span aria-hidden="true">*</span></label>
          <input id="email" name="email" type="email" required placeholder="you@example.com">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="topic">Topic</label>
          <select id="topic" name="topic">
            <option value="General">General</option>
            <option value="Collaboration">Collaboration</option>
            <option value="Project Inquiry">Project Inquiry</option>
            <option value="Speaking/Workshop">Speaking / Workshop</option>
          </select>
        </div>
        <div class="form-group">
          <label for="subject">Subject <span aria-hidden="true">*</span></label>
          <input id="subject" name="subject" type="text" required placeholder="Short summary">
        </div>
      </div>

      <div class="form-group">
        <label for="message">Message <span aria-hidden="true">*</span></label>
        <textarea id="message" name="message" required placeholder="Tell me a bit more..."></textarea>
        <div class="hint">I usually reply within 1–2 business days.</div>
      </div>

      <div class="form-group" style="margin-top:.6rem;">
        <label style="font-weight:500;">
          <input type="checkbox" name="consent" required>
          I consent to be contacted about my inquiry.
        </label>
      </div>

      <!-- 来源标记 -->
      <input type="hidden" name="source" value="contact.html">

      <div class="actions">
        <button class="btn btn-primary" type="submit">
          <i class="bi bi-send" aria-hidden="true"></i> Send Message
        </button>
        <a class="btn btn-ghost" href="mailto:yiweilu36@uci.edu?subject=Website%20Contact">Use Email Instead</a>
        <a class="btn btn-ghost" href="index.html">Home Page</a>
      </div>

      <div id="status" class="status" role="status" aria-live="polite"></div>
    </form>
  </div>
</div>

<!-- JS -->
<script>
(function(){
  const form = document.getElementById('contact-form');
  const statusEl = document.getElementById('status');
  const submitBtn = form.querySelector('button[type="submit"]');
  const endpoint = form.getAttribute('action');

  function show(msg, ok=true){
    statusEl.textContent = msg;
    statusEl.className = 'status ' + (ok ? 'ok' : 'err');
  }

  form.addEventListener('submit', async function(e){
    e.preventDefault();

    if (!form.checkValidity()){
      form.reportValidity();
      return;
    }

    submitBtn.disabled = true;
    submitBtn.innerHTML = '<i class="bi bi-hourglass-split" aria-hidden="true"></i> Sending...';
    show('');

    try {
      const data = new FormData(form);
      const res = await fetch(endpoint, {
        method: 'POST',
        body: data,
        headers: { 'Accept': 'application/json' }
      });

      if (res.ok) {
        form.reset();
        show('Thanks! Your message has been sent. ✅', true);
      } else {
        const err = await res.json().catch(()=>({}));
        show(err?.error || 'Something went wrong. Please try again or use email instead.', false);
      }
    } catch (err) {
      show('Network error. Please try again or use email instead.', false);
    } finally {
      submitBtn.disabled = false;
      submitBtn.innerHTML = '<i class="bi bi-send" aria-hidden="true"></i> Send Message';
    }
  });
})();
</script>

<style>
/* Contact 页面专用微调（不会影响全局其他页面） */
.contact-page .contact-hero{
  justify-content: center;
}
.contact-page .contact-card{
  padding: 1.75rem 1.75rem 2rem;
}
.contact-page .actions{
  display:flex;
  gap:.75rem;
  align-items:center;
  margin-top:1.2rem;
}
.contact-page .actions .btn,
.contact-page .actions .btn-ghost{
  padding: .55rem 1rem;
  border-radius: 999px;
  font-weight: 600;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  gap: .5rem;
}
.contact-page .actions .btn-ghost{
  border: 2px solid #007bff;
  color: #007bff;
  background: #fff;
  text-decoration: none;
}
.contact-page .actions .btn-ghost:hover{
  background: #0056b3;
  border-color: #0056b3;
  color: #fff;
}
</style>
