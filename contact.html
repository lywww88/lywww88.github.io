---
title: ""
format:
  html:
    toc: false
    page-layout: article
    allow-html: true
---

<!-- Bootstrap Icons（仅用于 bi-* 图标；如你已在全局引入，可删） -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<style>
  /* ========== Contact page minimal overrides (不会影响全局CSS) ========== */
  /* 统一盒模型，避免控件被外部样式撑破 */
  .contact-card, .contact-card *, .contact-card *::before, .contact-card *::after { box-sizing: border-box; }

  /* 标题区（图标 + 文本） */
  .contact-hero { display:flex; align-items:center; gap:.6rem; margin:1.2rem 0 1.6rem; }
  .contact-hero .bi { font-size:1.6rem; line-height:1; vertical-align:middle; }

  /* 居中容器与卡片 */
  .contact-wrapper { display:flex; justify-content:center; margin-top:2rem; }
  .contact-card {
    max-width: 720px; width:100%;
    padding: 1.25rem 1.25rem 1.6rem;
    border: 1px solid #e9ecef; border-radius: 14px; box-shadow: 0 2px 10px rgba(0,0,0,.03);
    background: #fff;
  }

  /* 表单栅格与控件 */
  .form-row { display:grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
  .form-row + .form-row, .form-row + .form-group { margin-top: 1rem; }
  .form-group { display:flex; flex-direction:column; }
  .contact-card label { font-weight: 600; margin-bottom:.35rem; }
  .contact-card input, .contact-card textarea, .contact-card select {
    width: 100%; padding:.65rem .75rem; border:1px solid #ced4da; border-radius:10px; font-size:1rem; line-height:1.2;
    background: #fff;
  }
  .contact-card textarea { min-height: 160px; resize: vertical; }
  .hint { color:#6c757d; font-size:.9rem; margin-top:.25rem; }

  .actions { display:flex; gap:.75rem; align-items:center; margin-top:1.2rem; }
  .btn-primary {
    display:inline-flex; align-items:center; gap:.5rem; padding:.6rem 1rem; border-radius:999px;
    border: none; background:#0d6efd; color:#fff; font-weight:600; cursor:pointer; text-decoration:none;
  }
  .btn-primary:hover { background:#0b5ed7; }
  .btn-ghost {
    background:transparent; border:1px solid #ced4da; border-radius:999px; padding:.55rem .9rem;
    cursor:pointer; font-weight:600; color:#333; text-decoration:none;
  }
  .btn-ghost:hover { background:#f8f9fa; }

  .status { margin-top: .8rem; font-weight:600; }
  .status.ok { color:#198754; }     /* success */
  .status.err { color:#dc3545; }    /* error */
  .visually-hidden { position:absolute; left:-10000px; top:auto; width:1px; height:1px; overflow:hidden; }

  /* 小屏优化 */
  @media (max-width: 640px) {
    .form-row { grid-template-columns: 1fr; }
    .contact-card { padding: 1rem 1rem 1.25rem; }
  }

  /* 深色模式友好（可选） */
  @media (prefers-color-scheme: dark){
    .contact-card{
      background: #0f1420;
      border-color: #1e2640;
      box-shadow: 0 2px 12px rgba(0,0,0,.35);
    }
    .contact-card input, .contact-card textarea, .contact-card select {
      background:#0e1320; color:#e6e9ef; border-color:#3a4466;
    }
    .btn-ghost{ color:#e6e9ef; border-color:#3a4466; }
    .btn-ghost:hover{ background:#111a2d; }
  }
</style>

<div class="contact-hero">
  <i class="bi bi-card-text" aria-hidden="true"></i>
  <h1 style="margin:0;">Contact</h1>
</div>

<div class="contact-wrapper">
  <div class="contact-card">
    <p style="margin-top:0; color:#555;">
      Have a question or a project in mind? Send me a message and I'll get back to you soon.
    </p>

    <!-- ✅ 使用你的 Formspree 端点 -->
    <form id="contact-form" action="https://formspree.io/f/xldwjnqg" method="POST" novalidate>
      <!-- 防垃圾字段（蜜罐） -->
      <div class="visually-hidden">
        <label>Do not fill this out if you are human:
          <input type="text" name="_gotcha" tabindex="-1" autocomplete="off">
        </label>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="name">Name <span aria-hidden="true">*</span></label>
          <input id="name" name="name" type="text" required placeholder="Your name">
        </div>
        <div class="form-group">
          <label for="email">Email <span aria-hidden="true">*</span></label>
          <input id="email" name="email" type="email" required placeholder="you@example.com">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="topic">Topic</label>
          <select id="topic" name="topic">
            <option value="General">General</option>
            <option value="Collaboration">Collaboration</option>
            <option value="Project Inquiry">Project Inquiry</option>
            <option value="Speaking/Workshop">Speaking / Workshop</option>
          </select>
        </div>
        <div class="form-group">
          <label for="subject">Subject <span aria-hidden="true">*</span></label>
          <input id="subject" name="subject" type="text" required placeholder="Short summary">
        </div>
      </div>

      <div class="form-group">
        <label for="message">Message <span aria-hidden="true">*</span></label>
        <textarea id="message" name="message" required placeholder="Tell me a bit more..."></textarea>
        <div class="hint">I usually reply within 1&ndash;2 business days.</div>
      </div>

      <div class="form-group" style="margin-top:.6rem;">
        <label style="font-weight:500;">
          <input type="checkbox" name="consent" required>
          I consent to be contacted about my inquiry.
        </label>
      </div>

      <!-- 来源标记（可选） -->
      <input type="hidden" name="source" value="contact.html">

      <div class="actions">
        <button class="btn-primary" type="submit">
          <i class="bi bi-send" aria-hidden="true"></i> Send Message
        </button>
        <a class="btn-ghost" href="mailto:yiweilu36@uci.edu?subject=Website%20Contact">Use Email Instead</a>
      </div>

      <div id="status" class="status" role="status" aria-live="polite"></div>
    </form>

    <div style="text-align:right; margin-top:1.5rem;">
      <a href="index.html" class="btn-ghost">Home Page</a>
    </div>
  </div>
</div>

<script>
(function(){
  const form = document.getElementById('contact-form');
  const statusEl = document.getElementById('status');
  const submitBtn = form.querySelector('button[type="submit"]');
  const endpoint = form.getAttribute('action');

  function show(msg, ok=true){
    statusEl.textContent = msg;
    statusEl.className = 'status ' + (ok ? 'ok' : 'err');
  }

  form.addEventListener('submit', async function(e){
    e.preventDefault();

    if (!form.checkValidity()){
      form.reportValidity();
      return;
    }

    submitBtn.disabled = true;
    submitBtn.innerHTML = '<i class="bi bi-hourglass-split" aria-hidden="true"></i> Sending...';
    show('');

    try {
      const data = new FormData(form);

      const res = await fetch(endpoint, {
        method: 'POST',
        body: data,
        headers: { 'Accept': 'application/json' }
      });

      if (res.ok) {
        form.reset();
        show('Thanks! Your message has been sent. ✅', true);
      } else {
        const err = await res.json().catch(()=>({}));
        show(err?.error || 'Something went wrong. Please try again or use email instead.', false);
      }
    } catch (err) {
      show('Network error. Please try again or use email instead.', false);
    } finally {
      submitBtn.disabled = false;
      submitBtn.innerHTML = '<i class="bi bi-send" aria-hidden="true"></i> Send Message';
    }
  });
})();
</script>
